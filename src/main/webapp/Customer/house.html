<!DOCTYPE HTML>
<html>
<head>
	<title>LeHome</title>
	<meta charset=“utf-8” />
        
	<!--CSS-->
	<link rel="stylesheet" type="text/css" href="theme-neptune/resources/theme-neptune-all_1.css"/>
	<link rel="stylesheet" type="text/css" href="theme-neptune/resources/theme-neptune-all_2.css"/>

	
	<link href="dist/css/vendor/bootstrap.min.css" rel="stylesheet">

    <!-- Loading Flat UI -->
    <link href="dist/css/flat-ui.css" rel="stylesheet">
    <link href="docs/assets/css/demo.css" rel="stylesheet">
	<!--JS-->
	<script src="assets/js/jquery.2.1.1.min.js"></script>
	<script type="text/javascript" src="js/ext-all.js"></script>
	<style type="text/css"> 
		.templinkactive {
		 	padding: 5px;
		 	text-decoration: none;
		 	background-color: #2788DA;
		 	color: #ffffff;
		 }
		 
		 .templink {
		 	cursor: pointer;
		 	padding: 5px;
		 	text-decoration: none;
		 }
		 
		 table tr {
		 	height: 35px;
		 }
	</style> 
	<script type="text/javascript">
		Ext.onReady(function(){
		var  myStore = 	Ext.create('Ext.data.Store', {
		    storeId:'simpsonsStore',
		    proxy: {
				type: 'rest',
				url: '/house',
				reader:{
					type:'json',
					rootProperty:'content',
					totalProperty: 'totalElements'
				},
				writer: {
					type: 'json'
				},
				simpleSortMode: true	
			},
			autoLoad: true,
			autoSync: true,
			remoteSort: true,
			pageSize: 8,
			sorters: {
				direction: 'DESC',property: 'id'
			},
			listeners: {}
		});
		Ext.create('Ext.container.Viewport', {
			    //width: 800,
			    //height: 1500,
			    requires: [
			        'Ext.grid.Panel',
			        'Ext.toolbar.Paging',
			        'Ext.grid.column.Date'
			    ],
			    title: 'Border Layout',
			    layout: 'border',
			    items: [{
			        //title: 'North Region is resizable',
			        region: 'north',     // position for region
			        xtype: 'panel',
			        height: 55,
			        split: true,         // enable resizing
			        //margins: '0 5 5 5',
			        html: '<div class="row demo-row">'+
					        '<div class="col">'+
					          '<nav class="navbar navbar-inverse navbar-embossed navbar-expand-lg" role="navigation">'+
					            '<a class="navbar-brand" href="#">Flat UI</a>'+
					            '<div class="collapse navbar-collapse" id="navbar-collapse-01">'+
					              '<ul class="nav navbar-nav mr-auto">'+
					                '<li><a href="#fakelink">首页</a></li>'+
					                '<li><a href="house.html"><img src="http://localhost:8081/Customer/dist/images/卖房.png">买房</a></li>'+
					                '<li><a href="login.html"><img src="http://localhost:8081/Customer/dist/images/租房.png">租房</a></li>'+
					                '<li><a href=""><img src="http://localhost:8081/Customer/dist/images/出租.png">我要出租</a></li>'+
					               '</ul>'+
					            '</div>'+
					          '</nav>'+
					        '</div>'+
					      '</div>'
			    },{
			        //title: 'Center Region',
			        region: 'center',     // center region is required, no width/height specified
			        xtype: 'panel',
			        //layout: 'fit',
			        scrollable: true,
					autosrcoll: true,
			        //margins: '5 5 0 0',
			        margin: '0 0 0 0',
			        items:[{
					        	xtype:'panel',
					        	//layout: 'fit',
						        margin: '50 180 0 180',
						        items:[{
						        	xtype:'panel',
						        	title:'动态查询',
						        	html:'<form id="form1" runat="server">'+
						    			'<div> '+
											'<table> '+
												'<tr id="linktype01"> '+
													'<td style="width:100px"> '+
														'<b>地区</b> '+
													'</td> '+
													'<td> '+
														'<span class="templinkactive" tag="">不限 '+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="松山湖">松山湖 '+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="大岭山">大岭山'+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="大朗">大朗 '+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="东城">东城'+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="虎门">虎门 '+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="莞城">莞城'+
													'</td> '+
												'</tr> '+
												'<tr id="linktype02"> '+
													'<td style="width:100px"> '+
														'<b>价格范围</b> '+
													'</td> '+
													'<td> '+
														'<span class="templinkactive" tag="">不限 '+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="50">50万以下 '+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="100">50~100万 '+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="150">100~150万'+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="300">150~300万 '+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="500">300~500万 '+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="1000">500万以上 '+
													'</td> '+
												'</tr> '+
												'<tr id="linktype03"> '+
													'<td style="width:100px"> '+
														'<b>尺寸范围</b> '+
													'</td> '+
													'<td> '+
														'<span class="templinkactive" tag="" >不限 '+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="50">50m²以下'+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="70">50~70m²'+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="100">70~100m²'+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="150">100~150m²'+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="200">150~200m² '+
													'</td> '+
													'<td> '+
														'<span class="templink" tag="500">200m²以上 '+
													'</td> '+
													'<tr>'+
														'<td>'+
															'<input id="location" value="" name="location"/>'+ 
															'<input id="price" value="" name="price"/> '+
															'<input id="area" value="" name="area"/> '+
														'</td>'+
													'</tr>'+
												'</tr> '+
											'</table> '+
										'</div> '+
									'</form> '
						        },{
						        	xtype: 'gridpanel',
						            cls: 'allRecordsCls',
						            //scrollable: false,
						            //autosrcoll: true,
						            hideHeaders: true,
						            border: false,
						            title: '我要买房',
						            routeId: 'all',
						            store: Ext.data.StoreManager.lookup('simpsonsStore'),
						            viewConfig: {
						                preserveScrollOnRefresh: true,
						                stripeRows: false
						            },
						            columns: [
						                {
						                    xtype: 'gridcolumn',
						                    renderer: function(value, metaData, record, rowIndex) {
						                        var page = "<div class='media' style='background-color:rgba(0,1,1,0.1);'>"+
												  "<div class='media-left'>"+
												    "<a href='#'>"+
												      "<img class='media-object' src='images/"+record.data.images+"' alt='...' height='190px' width='260px'>"+
												    "</a>"+
												  "</div>"+
												  "<div class='media-body'>"+
												    "<b><a target='_blank' href='http://localhost:8081/showHouse/details?id="+record.data.id+" '><h4 style='text-indent:50px;'>"+record.data.title+"</h4></a></b>"+
												    "<h4 style='color:red;font-family:verdana;'align='right'>"+record.data.price+"万</h4>"+
												    "<p style='text-indent:50px; font-size:17px;'><span> "+record.data.room+"室"+record.data.hall+"厅</span><em> | </em><span> "+record.data.area+"m²</span><em> | </em><span> 第"+record.data.floor+"层</span><em> | </em><span>2009年建造</span>"+"</p>"+
												    "<p style='text-indent:50px; font-size:16px;'><b>"+record.data.location+"&nbsp;&nbsp;&nbsp;</b>"+record.data.address+"</p>"+
												  "</div>"+
												"</div>";
						                        return page;
						                    },
						                    dataIndex: 'content',
						                    flex: 1
						                }
						            ],
						            dockedItems: [
						                {
						                    xtype: 'pagingtoolbar',
						                    dock: 'bottom',
						                    displayInfo: true,
						                    bind: Ext.data.StoreManager.lookup('simpsonsStore'),
						                }
						            ]}
					        ]
			        	}],
			        
			    renderTo: Ext.getBody()}]
			});
			var alink01 = $("#linktype01").find("span");
			alink01.click(function() {
				alink01.each(function() {
					$(this).removeClass("templinkactive").addClass("templink");
				});
				$(this).removeClass("templink").addClass("templinkactive");
				$("#location").val($(this).attr("tag"));
				Search();
			})
		
			//价格 
			var alink02 = $("#linktype02").find("span");
			alink02.click(function() {
				alink02.each(function() {
					$(this).removeClass("templinkactive").addClass("templink");
				});
				$(this).removeClass("templink").addClass("templinkactive");
				$("#price").val($(this).attr("tag"));
				Search();
			})
		
			//尺寸 
			var alink03 = $("#linktype03").find("span");
			alink03.click(function() {
				alink03.each(function() {
					$(this).removeClass("templinkactive").addClass("templink");
				});
				$(this).removeClass("templink").addClass("templinkactive");
				$("#area").val($(this).attr("tag"));
				Search();
			})
			 Ext.create('Ext.app.ViewController',{
				Search:function() {
					var store =	Ext.data.StoreManager.lookup('myStore');
					var location = $("#location").val();
					var price = $("#price").val();
					var area = $("#area").val();
					Ext.apply(store.proxy.extraParams, {location:"",price:"",area:""});
					Ext.apply(store.proxy.extraParams,{
						location:location,
						price:price,
						area:area
					});
					store.load({params:{start:0, limit:20, page:1}});
			   }
			})
		}); 
	</script>
	<script type="text/javascript">
		 /* function Search() {
			var store =	Ext.data.StoreManager.lookup('myStore');
			var location = $("#location").val();
			var price = $("#price").val();
			var area = $("#area").val();
			Ext.apply(store.proxy.extraParams, {location:"",price:"",area:""});
			Ext.apply(store.proxy.extraParams,{
				location:location,
				price:price,
				area:area
			});
			store.load({params:{start:0, limit:20, page:1}});
	   } */
	</script> 
</head>

<body>
</body>
</html>
